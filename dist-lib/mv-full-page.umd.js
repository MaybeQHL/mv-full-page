var yt=Object.defineProperty,Et=Object.defineProperties;var Tt=Object.getOwnPropertyDescriptors;var Z=Object.getOwnPropertySymbols;var kt=Object.prototype.hasOwnProperty,St=Object.prototype.propertyIsEnumerable;var ee=(r,u,g)=>u in r?yt(r,u,{enumerable:!0,configurable:!0,writable:!0,value:g}):r[u]=g,te=(r,u)=>{for(var g in u||(u={}))kt.call(u,g)&&ee(r,g,u[g]);if(Z)for(var g of Z(u))St.call(u,g)&&ee(r,g,u[g]);return r},ne=(r,u)=>Et(r,Tt(u));(function(r,u){typeof exports=="object"&&typeof module!="undefined"?module.exports=u(require("vue")):typeof define=="function"&&define.amd?define(["vue"],u):(r=typeof globalThis!="undefined"?globalThis:r||self,r.MvFullPage=u(r.Vue))})(this,function(r){"use strict";var u=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function g(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}var A=g,re=typeof u=="object"&&u&&u.Object===Object&&u,ae=re,ie=ae,oe=typeof self=="object"&&self&&self.Object===Object&&self,le=ie||oe||Function("return this")(),M=le,se=M,ce=function(){return se.Date.now()},ue=ce,fe=/\s/;function de(e){for(var n=e.length;n--&&fe.test(e.charAt(n)););return n}var ge=de,pe=ge,ve=/^\s+/;function he(e){return e&&e.slice(0,pe(e)+1).replace(ve,"")}var me=he,be=M,we=be.Symbol,X=we,H=X,D=Object.prototype,ye=D.hasOwnProperty,Ee=D.toString,k=H?H.toStringTag:void 0;function Te(e){var n=ye.call(e,k),t=e[k];try{e[k]=void 0;var a=!0}catch{}var c=Ee.call(e);return a&&(n?e[k]=t:delete e[k]),c}var ke=Te,Se=Object.prototype,Pe=Se.toString;function $e(e){return Pe.call(e)}var Ce=$e,z=X,je=ke,Oe=Ce,Le="[object Null]",Ie="[object Undefined]",_=z?z.toStringTag:void 0;function Ae(e){return e==null?e===void 0?Ie:Le:_&&_ in Object(e)?je(e):Oe(e)}var Be=Ae;function Fe(e){return e!=null&&typeof e=="object"}var Ne=Fe,Re=Be,We=Ne,Ye="[object Symbol]";function Me(e){return typeof e=="symbol"||We(e)&&Re(e)==Ye}var Xe=Me,He=me,x=A,De=Xe,V=0/0,ze=/^[-+]0x[0-9a-f]+$/i,_e=/^0b[01]+$/i,xe=/^0o[0-7]+$/i,Ve=parseInt;function Ge(e){if(typeof e=="number")return e;if(De(e))return V;if(x(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=x(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=He(e);var t=_e.test(e);return t||xe.test(e)?Ve(e.slice(2),t?2:8):ze.test(e)?V:+e}var Ue=Ge,qe=A,B=ue,G=Ue,Je="Expected a function",Ke=Math.max,Qe=Math.min;function Ze(e,n,t){var a,c,s,o,l,v,p=0,E=!1,h=!1,S=!0;if(typeof e!="function")throw new TypeError(Je);n=G(n)||0,qe(t)&&(E=!!t.leading,h="maxWait"in t,s=h?Ke(G(t.maxWait)||0,n):s,S="trailing"in t?!!t.trailing:S);function T(f){var i=a,d=c;return a=c=void 0,p=f,o=e.apply(d,i),o}function W(f){return p=f,l=setTimeout(w,n),E?T(f):o}function Y(f){var i=f-v,d=f-p,b=n-i;return h?Qe(b,s-d):b}function P(f){var i=f-v,d=f-p;return v===void 0||i>=n||i<0||h&&d>=s}function w(){var f=B();if(P(f))return $(f);l=setTimeout(w,Y(f))}function $(f){return l=void 0,S&&a?T(f):(a=c=void 0,o)}function O(){l!==void 0&&clearTimeout(l),p=0,a=v=c=l=void 0}function L(){return l===void 0?o:$(B())}function m(){var f=B(),i=P(f);if(a=arguments,c=this,v=f,i){if(l===void 0)return W(v);if(h)return clearTimeout(l),l=setTimeout(w,n),T(v)}return l===void 0&&(l=setTimeout(w,n)),o}return m.cancel=O,m.flush=L,m}var et=Ze,tt=et,nt=A,rt="Expected a function";function at(e,n,t){var a=!0,c=!0;if(typeof e!="function")throw new TypeError(rt);return nt(t)&&(a="leading"in t?!!t.leading:a,c="trailing"in t?!!t.trailing:c),tt(e,n,{leading:a,maxWait:n,trailing:c})}var it=at;const ot=()=>{const e=navigator.userAgent,n=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"];let t=!1;for(let a=0;a<n.length;a++)if(e.indexOf(n[a])>0){t=!0;break}return t},lt=()=>window.navigator.userAgent.toLowerCase().indexOf("firefox")!=-1;function st(e,n,t){if(e.attachEvent){e.attachEvent("on"+n,t);return}e.addEventListener&&e.addEventListener(n,t,!1)}function ct(e,n,t){if(e.detachEvent){debugger;e.detachEvent("on"+n,t);return}e.removeEventListener&&e.removeEventListener(n,t,!1)}function U(e){const n=e.composedPath&&e.composedPath()||e.path,t=e.target;if(n!=null)return n.indexOf(window)<0?n.concat(window):n;if(t===window)return[window];function a(c,s){s=s||[];const o=c.parentNode;return o?a(o,s.concat(o)):s}return[t].concat(a(t),window)}/*! iNoBounce - v0.2.0
* https://github.com/lazd/iNoBounce/
* Copyright (c) 2013 Larry Davis <lazdnet@gmail.com>; Licensed BSD */var F=0,N=!1,R=!1;try{var ut=Object.defineProperty({},"passive",{get:function(){R=!0}});window.addEventListener("test",null,ut)}catch{}var q=function(e){var n=e.target,t=window.innerWidth/window.document.documentElement.clientWidth;if(!(e.touches.length>1||t!==1)){for(;n!==document.body&&n!==document;){var a=window.getComputedStyle(n);if(!a)break;if(n.nodeName==="INPUT"&&n.getAttribute("type")==="range")return;var c=a.getPropertyValue("-webkit-overflow-scrolling"),s=a.getPropertyValue("overflow-y"),o=parseInt(a.getPropertyValue("height"),10),l=c==="touch"&&(s==="auto"||s==="scroll"),v=n.scrollHeight>n.offsetHeight;if(l&&v){var p=e.touches?e.touches[0].screenY:e.screenY,E=F<=p&&n.scrollTop===0,h=F>=p&&n.scrollHeight-n.scrollTop===o;(E||h)&&e.preventDefault();return}n=n.parentNode}e.preventDefault()}},J=function(e){F=e.touches?e.touches[0].screenY:e.screenY},K=function(){window.addEventListener("touchstart",J,R?{passive:!1}:!1),window.addEventListener("touchmove",q,R?{passive:!1}:!1),N=!0},ft=function(){window.removeEventListener("touchstart",J,!1),window.removeEventListener("touchmove",q,!1),N=!1},dt=function(){return N},C=document.createElement("div");document.documentElement.appendChild(C),C.style.WebkitOverflowScrolling="touch";var gt="getComputedStyle"in window&&window.getComputedStyle(C)["-webkit-overflow-scrolling"]==="touch";document.documentElement.removeChild(C),gt&&K();var y={enable:K,disable:ft,isEnabled:dt},Pt="",pt=(e,n)=>{const t=e.__vccOpts||e;for(const[a,c]of n)t[a]=c;return t};const vt=r.defineComponent({name:"MvFullPage",components:{},props:{pages:{type:Number,default:1},page:{type:Number,default:1},config:{type:Object}},setup(e,{emit:n}){const t=r.reactive({pagesArr:[],isPc:!1,fullHeight:0,fullWidth:0,maxY:0,maxX:0,startY:0,endY:0,startX:0,endX:0,currentPage:1,isRock:!1,isUp:!1,subScrollEl:null,wheelEventName:null,isInitTranslate:!1,playInterval:null,isForward:!0,isInitPage:!1}),a=r.ref(),c=r.ref(),s=r.computed(()=>Object.assign({position:"fixed",width:"100%",height:"100%",direction:"h",pointer:!0,poiPosition:"right",cache:!0,bgArr:[],transition:{duration:"1000ms",timingFun:"ease",delay:"0s"},autoPlay:!1,loop:!1,interval:1e3,arrow:{last:!1,next:!1}},e.config)),o=i=>{i=="last"&&n("update:page",e.page-1),i=="next"&&n("update:page",e.page+1)},l=(i,d)=>{n("pointerMouseover",{event:i,index:d})},v=()=>{t.playInterval=setInterval(()=>{e.page<e.pages&&t.isForward?n("update:page",e.page+1):s.value.loop?e.page>1?(t.isForward=!1,n("update:page",e.page-1)):(t.isForward=!0,n("update:page",e.page+1)):p()},s.value.interval||1e3)},p=()=>{clearInterval(t.playInterval),t.playInterval=null,t.isForward=!0},E=i=>{let d=`translate${s.value.direction=="v"?"Y":"X"}(${i}px)`;a.value.style.transform=d},h=it(()=>{T()},500),S=i=>{t.isRock||n("update:page",i)},T=()=>{t.fullHeight=c.value.clientHeight,t.fullWidth=c.value.clientWidth,t.maxY=e.pages*t.fullHeight,t.maxX=e.pages*t.fullWidth,a.value.style.height=t.fullHeight*e.pages+"px",a.value.style.width=t.fullWidth*e.pages+"px"},W=()=>{t.isPc?(t.wheelEventName=lt()?"DOMMouseScroll":"mousewheel",st(a.value,t.wheelEventName,P)):(a.value.addEventListener("touchstart",w,!1),a.value.addEventListener("touchmove",$,!1),a.value.addEventListener("touchend",O,!1))},Y=()=>{t.isPc?ct(a.value,t.wheelEventName,P):(y.disable(),a.value.removeEventListener("touchstart",w),a.value.removeEventListener("touchmove",$),a.value.removeEventListener("touchend",O))},P=i=>{if(t.isRock)return;let d=U(i);Array.from(d).some(I=>!!(I.dataset&&I.dataset.scroll=="true"))||(i.deltaY>0||i.detail>0||i.wheelDelta<0?m(!0):m(!1))},w=i=>{console.log(i),U(i).forEach(b=>{b.dataset&&b.dataset.scroll=="true"&&(t.subScrollEl=b)}),t.subScrollEl?y.disable():y.enable(),t.startY=i.changedTouches[0].pageY,t.startX=i.changedTouches[0].pageX},$=i=>{t.subScrollEl&&t.subScrollEl.scrollTop==0&&i.changedTouches[0].pageY-t.startY>0&&y.enable()},O=i=>{if(!(t.isRock||s.value.autoPlay)){if(t.subScrollEl){t.subScrollEl=null,y.enable();return}s.value.direction=="v"?i.changedTouches[0].pageY-t.startY<-50?(t.startY=0,m(!0)):i.changedTouches[0].pageY-t.startY>50&&(t.startY=0,m(!1)):i.changedTouches[0].pageX-t.startX<-50?(t.startX=0,m(!0)):i.changedTouches[0].pageX-t.startX>50&&(t.startX=0,m(!1))}},L=(i,d)=>{if(a.value&&t.fullHeight>0&&t.fullWidth>0){let b=-((i-1)*(s.value.direction=="v"?t.fullHeight:t.fullWidth));d&&(a.value.style.transitionProperty="none");let I=`translate${s.value.direction=="v"?"Y":"X"}(${b}px)`;if(a.value.style.transform=I,d)setTimeout(()=>{a.value.style.transitionProperty="transform"},1);else{t.isRock=!0;const Q=()=>{t.isRock=!1,n("rollEnd",e.page),a.value.removeEventListener("transitionend",Q)};a.value.addEventListener("transitionend",Q)}}},m=(i=!0)=>{a.value&&(i&&e.page<e.pages?n("update:page",e.page+1):!i&&e.page>1&&n("update:page",e.page-1))},f=()=>{t.isPc=!ot(),t.isPc?console.log("\u5F53\u524Dmv-full-page\u8FD0\u884C\u73AF\u5883\u4E3A: PC\u7AEF"):(console.log("\u5F53\u524Dmv-full-page\u8FD0\u884C\u73AF\u5883\u4E3A: \u79FB\u52A8\u7AEF"),y.enable()),T(),W(),window.addEventListener("resize",h)};return r.watch(()=>e.page,i=>{if(t.isInitTranslate){E(0),t.isInitTranslate=!1,setTimeout(()=>{a.value.classList.remove("transition-clear")},1);return}r.nextTick(()=>{if(t.pagesArr[e.page-1].isShow=!0,!t.isInitPage){t.isInitPage=!0,L(i,!0);return}L(i)})},{immediate:!0}),r.watch(()=>e.pages,i=>{if(!(!e.pages||e.pages<=0)){t.pagesArr.length=0;for(let d=0;d<e.pages;d++)t.pagesArr.push({page:d+1,isShow:d==0});if(t.pagesArr[0].isShow=!0,e.page>1&&t.isInitPage&&(a.value&&a.value.classList.add("transition-clear"),t.isInitTranslate=!0),!t.isInitPage){n("update:page",e.page);return}n("update:page",1)}},{immediate:!0}),r.watch(()=>s.value.autoPlay,i=>{i?r.nextTick(()=>{v()}):p()},{immediate:!0}),r.onMounted(()=>{f()}),r.onBeforeUnmount(()=>{Y(),window.removeEventListener("resize",h),p(),console.log("\u9500\u6BC1\u9875\u9762\u4E8B\u4EF6\u6210\u529F")}),ne(te({},r.toRefs(t)),{config:s,allPageRef:a,outContainerRef:c,pointerClick:S,pointerMouseover:l,toPage:o})}}),ht={key:0,class:"page-box"},mt={key:1,class:"page-box"},bt=["onClick","onMouseover"];function wt(e,n,t,a,c,s){return r.openBlock(),r.createElementBlock("div",{class:"mv-page-container",style:r.normalizeStyle({position:e.config.position,height:e.config.height,width:e.config.width}),ref:"outContainerRef"},[r.createElementVNode("div",{class:"mv-all-page",ref:"allPageRef",style:r.normalizeStyle({"transition-duration":e.config.transition.duration,"transition-timing-function":e.config.transition.timingFun,"transition-delay":e.config.transition.delay})},[(r.openBlock(!0),r.createElementBlock(r.Fragment,null,r.renderList(e.pagesArr,(o,l)=>(r.openBlock(),r.createElementBlock("div",{key:l,class:r.normalizeClass(["page",{floatLeft:e.config.direction!="v"}]),style:r.normalizeStyle({height:e.fullHeight+"px",width:e.fullWidth+"px","background-color":e.config.bgArr[l]&&e.config.bgArr[l].color,"background-image":e.config.bgArr[l].image&&`url(${e.config.bgArr[l].image})`}),ref_for:!0,ref:`page${o.page}`},[e.config.cache?r.withDirectives((r.openBlock(),r.createElementBlock("div",ht,[r.renderSlot(e.$slots,`page${o.page}`,{data:o},void 0,!0)],512)),[[r.vShow,o.isShow]]):r.withDirectives((r.openBlock(),r.createElementBlock("div",mt,[r.renderSlot(e.$slots,`page${o.page}`,{data:o},void 0,!0)],512)),[[r.vShow,e.page==o.page]])],6))),128))],4),e.config.pointer?(r.openBlock(),r.createElementBlock("div",{key:0,class:r.normalizeClass(["mv-pointer-wrapper",e.config.poiPosition])},[r.createElementVNode("ul",{class:r.normalizeClass(e.isPc&&"hover")},[(r.openBlock(!0),r.createElementBlock(r.Fragment,null,r.renderList(e.pages,o=>(r.openBlock(),r.createElementBlock("li",{class:r.normalizeClass({active:e.page==o}),onClick:r.withModifiers(l=>e.pointerClick(o),["stop"]),key:o,onMouseover:l=>e.pointerMouseover(l,o)},null,42,bt))),128))],2)],2)):r.createCommentVNode("v-if",!0),e.config.arrow.last&&e.page>1?(r.openBlock(),r.createElementBlock("div",{key:1,class:"last-arrow iconfont icon-jiantoushang",onClick:n[0]||(n[0]=o=>e.toPage("last"))})):r.createCommentVNode("v-if",!0),e.config.arrow.next&&e.page<e.pages?(r.openBlock(),r.createElementBlock("div",{key:2,class:"next-arrow iconfont icon-jiantouxia",onClick:n[1]||(n[1]=o=>e.toPage("next"))})):r.createCommentVNode("v-if",!0)],4)}var j=pt(vt,[["render",wt],["__scopeId","data-v-5e88b1b5"]]);return j.install=(e,n)=>{e.component(j.name,j)},j});
